# baseballgame
# 目標
在全民打棒球pro這款遊戲中會依照每年中華職棒球員比賽成績來做球員卡的素質
<div style="text-align: center">
<img src="https://i.imgur.com/Tl12g4j.jpg"/>
</div>

<center>(圖片截至於遊戲內)</center>

其中Live卡素質會針對2020年各月表現超群的投打手們每兩周一次boost調整素質，依據官方給的參考項目以可以預測下一期會調整素質的球員
![](https://i.imgur.com/Nbfd3KE.jpg)
打者:打數(AB)、安打(H)、打點(RBI)、全壘打(HR)、盜壘(SB)、四壞保送(BB)、得分( R )
投手:局數(IP)、勝(W)、敗(L)、救援(SV)、奪三振(SO)、中繼(HLD)、四壞(BB)、失分( R )
藉由提前知道哪幾個球員會變動可以先在自由球員市場購買，趁著價錢還沒上漲先買下好的球員，也可以當作是個投資在低點買進高價賣出(就很像是股票XD)，所以為了能準確預測而有了這個專案，不過這個專案也是個紀錄，說不定今年新球季會不太一樣

# 做法
### 步驟1
首先要先找到球員資料，所以我從 [http://www.cpbl.com.tw/web/team_player.php?&team=L01](http://www.cpbl.com.tw/web/team_player.php?&team=L01) 這個網站利用爬蟲的方式把球員名字與成績抓下來，這網站是中華職棒的官方網站，一開始的時候發現有球員每月比賽成績
![](https://i.imgur.com/29ZtytG.jpg)
只要把當月的資料抓下來就好，但是後來發現這個表格的資料不夠少了幾項要的素質，所以改抓取逐場成績表再把每個月的成績加總就變成我要的資料再做成json檔儲存
![](https://i.imgur.com/eNxCAbo.jpg)

### 步驟二
有了這個資料之後我再抓出其中幾個有加權計算的紀錄，像是打者方面就是打數、安打、打點、全壘打、盜壘、四壞保送、得分，經由官方給的總分能計算出每一項的加權倍率，不過這邊有倍率不是整數的可能性在，經由我用numpy的矩陣運算計算出打者部分的是一個整數矩陣，利用4、5、6月的資料去計算，然後用7月的去做驗算
![](https://i.imgur.com/xbqZfKX.jpg)
$$\;$$
$$(R,AB,RBI,H,HR,BB,SB) = (5,1,10,15,35,5,10)$$
$$ 657 = 5\times10+1\times62+10\times9+15\times22+35\times3+5\times4+10\times0$$
投手部分因為驗算之後對不上，數值算出來為無理數，所以還在想為什麼是不是要改變算法

### 結論
我在做這個預測的時候7月的成績還沒出來，所以當時不知道會不會真的吻合，但是過幾天後成績出來發現打者的部分是正確的，之後也要繼續驗證確認遊戲公司沒有改變計算方式
### 能改善的地方
在程式碼方面我把每個球隊的程式碼分開但是因為其實有很多相同的地方可以刪減成一個程式就好


更新日期 :2020/01/29
